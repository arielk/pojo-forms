!function(a){"use strict";var b={cache:{$document:a(document),$window:a(window)},cacheElements:function(){},buildElements:function(){},bindEvents:function(){var b=this;a("form.pojo-form.pojo-form-ajax").on("submit",function(){var c=a(this),d=c.serialize(),e=c.data("prefix")||"",f=c.find("div.form-actions button.submit");return c.hasClass("form-waiting")?!1:(c.animate({opacity:"0.45"},500).addClass("form-waiting"),f.attr("disabled","disabled").html('<i class="fa fa-spinner fa-spin"></i> '+f.html()),c.find("div.form-message").remove(),c.find("div.field-group").removeClass("error").find("span.form-help-inline").remove(),a.post(Pojo.ajaxurl,d,function(d){d.data.hide_form&&d.success||(f.html(f.text()).removeAttr("disabled"),c.animate({opacity:"1"},100).removeClass("form-waiting")),d.success?(b.cache.$document.trigger("pojo_forms_form_submitted",c),d.data.hide_form||c.trigger("reset"),""!==d.data.message&&c.append('<div class="form-message form-message-success">'+d.data.message+"</div>"),""!==d.data.link&&(location.href=d.data.link)):(a.each(d.data.fields,function(a,b){c.find("div.field-group."+e+a).addClass("error").append('<span class="help-inline form-help-inline">'+b+"</span>")}),c.append('<div class="form-message form-message-danger">'+d.data.message+"</div>"))},"json"),!1)})},init:function(){this.cacheElements(),this.buildElements(),this.bindEvents()}};a(document).ready(function(a){b.init()})}(jQuery);